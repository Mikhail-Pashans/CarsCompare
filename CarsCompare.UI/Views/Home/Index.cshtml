@{
    ViewBag.Title = "CarsCompare - Главная страница";
}

@Styles.Render("~/Content/ui-bootstrap", "~/Content/select")
@Scripts.Render("~/bundles/angular", "~/bundles/ui-bootstrap", "~/bundles/select")

<div class="jumbotron" data-ng-app="carsCompareApp">
    <div data-ng-controller="compareCtrl">
        <table class="table table-striped">
            <thead class="text-center">
                <tr>
                    <th>
                        <button type="button" class="btn lg btn-success" data-ng-click="addCar()">Выбрать автомобиль для сравнения</button>
                    </th>
                    <th class="bg-info" data-ng-repeat="car in cars" data-ng-show="!!cars.length">
                        <span>{{ car.brand.name }}</span>
                        <span>{{ car.model.name }}</span>
                        <br />
                        <span>{{ car.version.name }}</span>
                        <br />
                        <span>{{ (car.modify.yearFrom | formatBigYear) + ' &ndash; ' + (car.modify.yearTo | formatBigYear) }}</span>
                    </th>
                </tr>
            </thead>
            <tbody class="text-left" data-ng-repeat="paramGroup in paramGroups" data-ng-show="!!cars.length">
                <tr class="warning">
                    <td colspan="{{ cars.length + 1 }}">
                        <strong>{{ paramGroup.name }}</strong>
                    </td>
                </tr>
                <tr data-ng-repeat="paramName in paramGroup.paramNames">
                    <td>
                        <ul>
                            <li>
                                <em>{{ paramName.name }}</em>
                            </li>
                        </ul>
                    </td>
                    <td data-ng-repeat="car in cars">
                        <span data-ng-repeat="param in car.params | objectsArrayFirst : paramName">
                            {{ param.value | paramBlankValue }}
                            &nbsp;
                            <em>{{ param.paramName.units }}</em>
                        </span>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

@Scripts.Render("~/bundles/customScripts")